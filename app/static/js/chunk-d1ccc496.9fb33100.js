(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d1ccc496"],{"01ff":function(t,e,s){},4873:function(t,e,s){"use strict";s("c2cd")},"53ce":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"box"},[s("button",{on:{click:function(e){return t.handle_upload()}}},[t._v("上传固件")]),s("div",{staticClass:"list_box"},[s("List",{attrs:{list:t.list}}),s("el-pagination",{attrs:{background:"",layout:"prev, pager, next,total",total:t.total,"page-size":t.items_per_page,"current-page":t.page},on:{"current-change":t.handleCurrentChange}})],1),s("Upload",{directives:[{name:"show",rawName:"v-show",value:t.upload,expression:"upload"}],ref:"upload_box",attrs:{fileType:t.fileType}}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.delete_item,expression:"delete_item"}],staticClass:"delete_wrap"},[s("div",{staticClass:"delete_box"},[s("i",{staticClass:"close",on:{click:t.close}}),s("h5",[t._v("删除")]),s("p",[t._v("确定要删除本条数据吗？")]),s("div",{staticClass:"button_box"},[s("button",{on:{click:t.confirm}},[t._v("确定")]),s("button",{on:{click:t.close}},[t._v("取消")])])])]),s("div",{staticClass:"foot_box"})],1)},i=[],n=(s("d3b7"),s("159b"),s("2e90")),c=s("d443"),o={name:"FirmwareUnpack",components:{List:n["a"],Upload:c["a"]},data:function(){return{fileType:"",id:"",list:[],total:0,page:1,items_per_page:12,upload:!1,delete_item:!1}},created:function(){this.getList()},methods:{getList:function(){var t=this,e={page:this.page,items_per_page:this.items_per_page};this.$Extract.getExtractList(e).then((function(e){200===e.status&&e.data&&(t.list=e.data.tasks,t.total=e.data.total_items,t.list.forEach((function(t){t.type="extract","completed"===t.status?t.status_code="1":"unpacking"===t.status?t.status_code="3":t.status_code="2"})))}))},handle_upload:function(){this.fileType="",this.upload=!0},cancel:function(){this.upload=!1},uploads:function(t){var e=this,s=new FormData;s.append("firmware",t),this.$Extract.createExtract(s).then((function(t){if(200!==t.status||"任务已创建"!==t.data.message)return e.$message({type:"warning",message:t.data.message});e.$message({type:"success",message:"上传成功"}),e.$refs.upload_box.closeDia(),e.getList()}))},handleDelete:function(t){this.delete_item=!0,this.id=t},close:function(){this.delete_item=!1,this.getList()},confirm:function(){var t=this;this.$Extract.deleteExtract(this.id).then((function(e){200===e.status&&(t.$message({type:"success",message:"任务删除成功"}),t.close())}))},restart:function(t){var e=this,s=new FormData;s.append("task_id",t),this.$Extract.reStartTask(s).then((function(t){200===t.status&&(e.$message({type:"success",message:t.data.message}),e.getList())}))},handleCurrentChange:function(t){this.page=t,this.getList()}}},l=o,r=(s("4873"),s("e6eb"),s("2877")),u=Object(r["a"])(l,a,i,!1,null,"68bc3b9a",null);e["default"]=u.exports},c2cd:function(t,e,s){},e6eb:function(t,e,s){"use strict";s("01ff")}}]);