(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-66b412ec"],{"244d":function(t,e,i){"use strict";i("c5e9")},"35f0":function(t,e,i){},"5e6a":function(t,e,i){},"789d":function(t,e,i){},8757:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"box"},[i("button",{on:{click:function(e){return t.handle_upload()}}},[t._v("上传程序")]),i("div",{staticClass:"list_box"},[i("ListTable",{attrs:{list:t.list}}),i("el-pagination",{attrs:{background:"",layout:"prev, pager, next,total",total:t.total,"page-size":t.items_per_page,"current-page":t.page},on:{"current-change":t.handleCurrentChange}})],1),i("UploadBin",{directives:[{name:"show",rawName:"v-show",value:t.upload,expression:"upload"}],ref:"upload_box"}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.delete_item,expression:"delete_item"}],staticClass:"delete_wrap"},[i("div",{staticClass:"delete_box"},[i("i",{staticClass:"close",on:{click:t.close}}),i("h5",[t._v("删除")]),i("p",[t._v("确定要删除本条数据吗？")]),i("div",{staticClass:"button_box"},[i("button",{on:{click:t.confirm}},[t._v("确定")]),i("button",{on:{click:t.close}},[t._v("取消")])])])]),i("div",{staticClass:"foot_box"})],1)},s=[],n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"list_wrap"},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list}},[i("el-table-column",{attrs:{prop:"binary_name",label:"程序名称",align:"center"}}),i("el-table-column",{attrs:{prop:"debug_ip",label:"IP",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.debug_ip?i("span",[t._v(t._s(e.row.debug_ip))]):i("span",[t._v(" - ")])]}}])}),i("el-table-column",{attrs:{label:"端口",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.debug_port?i("span",[t._v(t._s(e.row.debug_port))]):i("span",[t._v(" - ")])]}}])}),i("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["pending"===e.row.status||"closed"===e.row.status?i("span",[t._v("调试完成")]):"listening"===e.row.status?i("span",{staticStyle:{color:"#FF8400"}},[t._v("调试监听中")]):"terminating"===e.row.status?i("span",{staticStyle:{color:"#FF8400"}},[t._v("正在终止")]):"emulating"===e.row.status?i("span",{staticStyle:{color:"#FF8400"}},[t._v("模拟中")]):i("span",{staticStyle:{color:"#FF2A00"}},[t._v("失败")])]}}])}),i("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["pending"===e.row.status||"closed"===e.row.status||"failed"===e.row.status?i("span",{staticStyle:{color:"#39C9FF",cursor:"pointer","margin-right":"5px"},on:{click:function(i){return t.handleStart(e.row.id)}}},[t._v("调试")]):"listening"===e.row.status?i("span",{staticStyle:{color:"#FF8400",cursor:"pointer","margin-right":"5px"},on:{click:function(i){return t.handleStop(e.row.id)}}},[t._v("终止调试")]):t._e(),t._v("| "),i("span",{staticStyle:{color:"#39C9FF",cursor:"pointer","margin-left":"5px"},on:{click:function(i){return t.handleDelet(e.row.id)}}},[t._v("删除")])]}}])})],1)],1)},l=[],o={name:"BinaryProgramSimulation",props:["list"],data:function(){return{itemData:[]}},created:function(){},methods:{handleStart:function(t){this.$parent.restart(t)},handleStop:function(t){this.$parent.stopTask(t)},handleDelet:function(t){this.$parent.handleDelete(t)}},watch:{list:{handler:function(t){this.itemData=t},deep:!0}},filters:{toText:function(t){return"pending"===t||"closed"===t?"-":"listening"===t?"调试中":void 0}}},c=o,r=(i("c9e4"),i("f164"),i("2877")),u=Object(r["a"])(c,n,l,!1,null,"2f7ccf34",null),d=u.exports,p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"upload_wrap"},[i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"upload_box",attrs:{"element-loading-text":"拼命上传中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.2)"}},[i("div",{staticClass:"upload"},[i("el-upload",{ref:"upload1",staticClass:"upload-wrap",attrs:{action:"",accept:".zip","auto-upload":!1,"show-file-list":!1,multiple:!1,"on-change":t.handleChange1,drag:""}},[i("i",{staticClass:"el-icon-upload"}),i("div",{staticClass:"el-upload__text"},[t._v("拖拽或点击上传根文件系统压缩包")])]),i("div",{staticClass:"file-list"},[i("div",[t.fileList1.length>0?i("i",{staticClass:"el-icon-document"}):t._e(),t.fileList1.length>0?i("span",{staticClass:"name"},[t._v(t._s(t.fileList1[0].name))]):t._e(),t.fileList1.length>0?i("em",{staticClass:"el-icon-delete",on:{click:t.removeFile1}}):t._e()])])],1),i("div",{staticClass:"upload"},[i("el-upload",{ref:"upload2",staticClass:"upload-wrap",attrs:{action:"","auto-upload":!1,"show-file-list":!1,multiple:!1,"on-change":t.handleChange2,drag:""}},[i("i",{staticClass:"el-icon-upload"}),i("div",{staticClass:"el-upload__text"},[t._v("拖拽或点击上传二进制文件")])]),i("div",{staticClass:"file-list"},[t.fileList2.length>0?i("i",{staticClass:"el-icon-document"}):t._e(),t.fileList2.length>0?i("span",{staticClass:"name"},[t._v(t._s(t.fileList2[0].name))]):t._e(),t.fileList2.length>0?i("em",{staticClass:"el-icon-delete",on:{click:t.removeFile2}}):t._e()])],1),i("div",{staticClass:"button_box"},[i("button",{on:{click:function(e){return t.uploadFile()}}},[t._v("确定")]),i("button",{on:{click:function(e){return t.closeDia()}}},[t._v("取消")])])])])},f=[],h={name:"Upload",data:function(){return{loading:!1,fileList1:[],fileList2:[]}},created:function(){},methods:{handleChange1:function(t,e){this.fileList1=[],e.length>0&&(this.fileList1=[e[e.length-1]])},handleChange2:function(t,e){this.fileList2=[],e.length>0&&(this.fileList2=[e[e.length-1]])},removeFile1:function(){this.fileList1=[]},removeFile2:function(){this.fileList2=[]},closeDia:function(){this.loading=!1,this.$refs.upload1.clearFiles(),this.$refs.upload2.clearFiles(),this.$parent.cancel()},uploadFile:function(){if(!this.fileList1[0]||!this.fileList2[0])return this.$message({type:"warning",message:"请上传文件"});var t=this.fileList1[0].raw,e=this.fileList2[0].raw;this.loading=!0,this.$parent.uploads(t,e)}}},g=h,_=(i("244d"),Object(r["a"])(g,p,f,!1,null,"4d23ffe8",null)),m=_.exports,v={name:"FirmwareUnpack",components:{ListTable:d,UploadBin:m},data:function(){return{id:"",list:[],total:0,page:1,items_per_page:8,upload:!1,delete_item:!1}},created:function(){this.getList()},methods:{getList:function(){var t=this,e={page:this.page,items_per_page:this.items_per_page};this.$Binary.getBinaryList(e).then((function(e){200===e.status&&e.data&&(t.list=e.data.tasks,t.total=e.data.total_items)}))},handle_upload:function(){this.upload=!0},cancel:function(){this.upload=!1},uploads:function(t,e){var i=this,a=new FormData;a.append("rootfs_file",t),a.append("binary_file",e),this.$Binary.createBinary(a).then((function(t){if(200!==t.status||"任务已创建"!==t.data.message)return i.$message({type:"warning",message:t.data.message});i.$message({type:"success",message:"上传成功"}),i.$refs.upload_box.closeDia(),i.getList()}))},handleDelete:function(t){this.delete_item=!0,this.id=t},close:function(){this.delete_item=!1,this.getList()},confirm:function(){var t=this;this.$Binary.deleteBinary(this.id).then((function(e){200===e.status&&(t.$message({type:"success",message:"任务删除成功"}),t.close())}))},restart:function(t){var e=this,i=new FormData;i.append("task_id",t),this.$Binary.startBinary(i).then((function(t){200===t.status&&e.getList()}))},stopTask:function(t){var e=this,i=new FormData;i.append("task_id",t),this.$Binary.stopBinary(i).then((function(t){200===t.status&&e.getList()}))},handleCurrentChange:function(t){this.page=t,this.getList()}}},b=v,w=(i("9f89"),i("a8ec"),Object(r["a"])(b,a,s,!1,null,"83ce817c",null));e["default"]=w.exports},"9f89":function(t,e,i){"use strict";i("35f0")},a8ec:function(t,e,i){"use strict";i("5e6a")},c5b4:function(t,e,i){},c5e9:function(t,e,i){},c9e4:function(t,e,i){"use strict";i("c5b4")},f164:function(t,e,i){"use strict";i("789d")}}]);