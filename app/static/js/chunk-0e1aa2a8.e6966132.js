(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0e1aa2a8"],{"64c9":function(e,t,i){},a434:function(e,t,i){"use strict";var n=i("23e7"),l=i("da84"),s=i("23cb"),o=i("5926"),a=i("07fa"),r=i("7b0b"),c=i("65f0"),u=i("8418"),d=i("1dde"),f=d("splice"),p=l.TypeError,m=Math.max,h=Math.min,v=9007199254740991,g="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!f},{splice:function(e,t){var i,n,l,d,f,b,y=r(this),C=a(y),_=s(e,C),w=arguments.length;if(0===w?i=n=0:1===w?(i=0,n=C-_):(i=w-2,n=h(m(o(t),0),C-_)),C+i-n>v)throw p(g);for(l=c(y,n),d=0;d<n;d++)f=_+d,f in y&&u(l,d,y[f]);if(l.length=n,i<n){for(d=_;d<C-n;d++)f=d+n,b=d+i,f in y?y[b]=y[f]:delete y[b];for(d=C;d>C-n+i;d--)delete y[d-1]}else if(i>n)for(d=C-n;d>_;d--)f=d+n-1,b=d+i-1,f in y?y[b]=y[f]:delete y[b];for(d=0;d<i;d++)y[d+_]=arguments[d+2];return y.length=C-n+i,l}})},d443:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"upload_wrap"},[i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"upload_box",attrs:{"element-loading-text":"拼命上传中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.2)"}},[i("div",{staticClass:"top"}),i("div",{staticClass:"content"},[i("div",{staticClass:"upload"},[i("el-upload",{ref:"upload",staticClass:"upload-wrap",attrs:{action:"",accept:e.fileType,"on-change":e.handleChange,"auto-upload":!1,"show-file-list":!1,multiple:e.isSimple,drag:""}},[i("i",{staticClass:"el-icon-upload el-icon-plus"}),i("div",{staticClass:"el-upload__text"},[i("p",[e._v("拖拽或点击上传固件")]),e.isMirror?i("p",{staticStyle:{"font-size":"12px",opacity:"0.45"}},[e._v("（多文件上传需选择同一厂商固件镜像）")]):e._e()])]),e.fileList.length>3?i("ul",{staticClass:"file-wrap"},[i("el-scrollbar",e._l(e.fileList,(function(t,n){return i("li",{key:t.uid,staticClass:"file-list"},[i("i",{staticClass:"el-icon-document"}),i("span",{staticClass:"name"},[e._v(e._s(t.name))]),i("em",{staticClass:"el-icon-delete",on:{click:function(t){return e.removeFile(n)}}})])})),0)],1):e.fileList.length<=3&&e.fileList.length>0?i("ul",{staticClass:"file-wrap",staticStyle:{height:"auto"}},e._l(e.fileList,(function(t,n){return i("li",{key:t.uid,staticClass:"file-list"},[i("i",{staticClass:"el-icon-document"}),i("span",{staticClass:"name"},[e._v(e._s(t.name))]),i("em",{staticClass:"el-icon-delete",on:{click:function(t){return e.removeFile(n)}}})])})),0):e._e()],1),e.isMirror?i("div",{staticClass:"vendor_box"},[i("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-position":"top"}},[i("el-form-item",{attrs:{label:"厂商名称",prop:"vendor"}},[i("el-input",{model:{value:e.form.vendor,callback:function(t){e.$set(e.form,"vendor",t)},expression:"form.vendor"}})],1)],1)],1):e._e(),i("div",{staticClass:"button_box"},[i("button",{on:{click:function(t){return e.uploadFile()}}},[e._v("确定")]),i("button",{on:{click:function(t){return e.closeDia()}}},[e._v("取消")])])]),i("div",{staticClass:"bottom"})])])},l=[],s=i("2909");i("a4d3"),i("e01a"),i("d3b7"),i("d28b"),i("3ca3"),i("ddb0");function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}i("4d63"),i("c607"),i("ac1f"),i("2c3e"),i("25f0"),i("00b4"),i("d9e2"),i("a434"),i("99af");var a={name:"Upload",props:["fileType","isSimple","isMirror"],data:function(){var e=function(e,t,i){var n=new RegExp("[`~!@#$^&*()=|{}':;',\\[\\]<>/?~！@#￥……&*（）——|{}【】‘；：”“'。，、？]");n.test(t)?i(new Error("请勿输入特殊符号")):i()};return{loading:!1,fileList:[],form:{vendor:""},rules:{vendor:[{required:!0,message:"请输入厂商名称",trigger:"blur"},{validator:e,trigger:"blur"}]}}},created:function(){},mounted:function(){},methods:{handleChange:function(e,t){this.fileList=[],t=this.uniqueJsonArrByField(t,"name"),t.length>0&&(this.isSimple?this.fileList=t:this.fileList=[t[t.length-1]])},removeFile:function(e){this.fileList.splice(e,1)},closeDia:function(){this.loading=!1,this.removeFile(),this.$refs.upload.clearFiles(),this.isMirror&&(this.form.vendor=""),this.$parent.cancel()},uploadFile:function(){var e=this;if(1!=this.fileList.length||this.isSimple){if(!(this.fileList.length>=1&&this.isSimple))return this.$message({type:"warning",message:"请上传文件"});this.$refs["form"].validate((function(t){t&&(e.loading=!0,e.$parent.uploads(e.fileList,e.form.vendor))}))}else{var t=this.fileList[0].raw;this.loading=!0,this.$parent.uploads(t)}},uniqueJsonArrByField:function(e,t){if(e.length<2||!t||"object"!==o(e[0]))return e;var i=e.reduce((function(e,i){return e.some((function(e){return e[t]===i[t]}))?e:[].concat(Object(s["a"])(e),[i])}),[]);return i}},watch:{fileType:{handler:function(e){console.log(e)},deep:!0}}},r=a,c=(i("e24d"),i("2877")),u=Object(c["a"])(r,n,l,!1,null,"e72da9b4",null);t["a"]=u.exports},e24d:function(e,t,i){"use strict";i("64c9")}}]);