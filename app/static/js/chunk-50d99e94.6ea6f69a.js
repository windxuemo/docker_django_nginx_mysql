(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-50d99e94"],{2193:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"box"},[s("button",{on:{click:function(e){return t.handle_upload()}}},[t._v("上传二进制文件")]),s("div",{staticClass:"list_box"},[s("List",{attrs:{list:t.list}}),s("el-pagination",{attrs:{background:"",layout:"prev, pager, next,total",total:t.total,"page-size":t.items_per_page,"current-page":t.page},on:{"current-change":t.handleCurrentChange}})],1),s("Upload",{directives:[{name:"show",rawName:"v-show",value:t.upload,expression:"upload"}],ref:"upload_box",attrs:{fileType:t.fileType,isSimple:!1}}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.delete_item,expression:"delete_item"}],staticClass:"delete_wrap"},[s("div",{staticClass:"delete_box"},[s("i",{staticClass:"close",on:{click:t.close}}),s("h5",[t._v("删除")]),s("p",[t._v("确定要删除本条数据吗？")]),s("div",{staticClass:"button_box"},[s("button",{on:{click:t.confirm}},[t._v("确定")]),s("button",{on:{click:t.close}},[t._v("取消")])])])]),s("div",{staticClass:"foot_box"})],1)},i=[],n=(s("d3b7"),s("159b"),s("2e90")),o=s("d443"),c={name:"FirmwareUnpack",components:{List:n["a"],Upload:o["a"]},data:function(){return{fileType:"",id:"",list:[],total:0,page:1,items_per_page:12,upload:!1,delete_item:!1}},created:function(){this.getList()},methods:{getList:function(){var t=this,e={page:this.page,items_per_page:this.items_per_page};this.$FunctionDetection.getFunctionList(e).then((function(e){200===e.status&&e.data&&(t.list=e.data.tasks,t.total=e.data.total_items,t.list.forEach((function(t){t.type="detection",t.firmware_name=t.binary_name,"completed"===t.status?t.status_code="1":"Pending"===t.status?t.status_code="3":t.status_code="2"})))}))},handle_upload:function(){this.fileType="",this.upload=!0},cancel:function(){this.upload=!1},uploads:function(t){var e=this,s=new FormData;s.append("binary_file",t),this.$FunctionDetection.createFunction(s).then((function(t){if(200!==t.status||"任务已创建"!==t.data.message)return e.$message({type:"warning",message:t.data.message});e.$message({type:"success",message:"上传成功"}),e.$refs.upload_box.closeDia(),e.getList()}))},handleDelete:function(t){this.delete_item=!0,this.id=t},close:function(){this.delete_item=!1,this.getList()},confirm:function(){var t=this;this.$FunctionDetection.deleteFunction(this.id).then((function(e){200===e.status&&(t.$message({type:"success",message:"任务删除成功"}),t.close())}))},restart:function(t){var e=this,s=new FormData;s.append("task_id",t),this.$FunctionDetection.reStartTask(s).then((function(t){200===t.status&&(e.$message({type:"success",message:t.data.message}),e.getList())}))},handleCurrentChange:function(t){this.page=t,this.getList()},toDetail:function(t){this.$router.push({path:"/detectionDetail",query:{id:t}})}}},u=c,l=(s("b3d6"),s("e697"),s("2877")),r=Object(l["a"])(u,a,i,!1,null,"2306bfba",null);e["default"]=r.exports},"4a79":function(t,e,s){},9382:function(t,e,s){},b3d6:function(t,e,s){"use strict";s("9382")},e697:function(t,e,s){"use strict";s("4a79")}}]);